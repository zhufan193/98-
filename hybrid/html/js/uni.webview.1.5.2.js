!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):e.uni=i()}(this,function(){"use strict";function i(e,i){if(0===s.length&&g){var a=plus.webview.currentWebview();if(!a)throw new Error("plus.webview.currentWebview() is undefined");var n=a.parent(),t="";t=n?n.id:a.id,s.push(t)}var r={options:{timestamp:+new Date},name:e,arg:i};if(g){var o=JSON.stringify(r);plus.webview.getWebviewById(d)?plus.webview.postMessageToUniNView({type:c,args:{data:r,webviewIds:s}},d):plus.webview.getLaunchWebview().evalJS('UniPlusBridge.subscribeHandler("'+c+'",'+o+","+JSON.stringify(s)+");")}else window.parent.postMessage({type:c,data:r,pageId:""},"*")}var e={},s=[],g=/uni-app/i.test(navigator.userAgent),d="__uniapp__service",c="WEB_INVOKE_APPSERVICE";e.navigateTo=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url;i("navigateTo",{url:encodeURI(e)})},e.navigateBack=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).delta;i("navigateBack",{delta:parseInt(e)||1})},e.switchTab=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url;i("switchTab",{url:encodeURI(e)})},e.reLaunch=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url;i("reLaunch",{url:encodeURI(e)})},e.redirectTo=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url;i("redirectTo",{url:encodeURI(e)})},e.getEnv=function(e){e(g?{plus:!0}:{h5:!0})},e.postMessage=function(){i("postMessage",(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).data||{})};var a={};"undefined"!=typeof wx&&wx.miniProgram&&(a.navigateTo=wx.miniProgram.navigateTo,a.navigateBack=wx.miniProgram.navigateBack,a.switchTab=wx.miniProgram.switchTab,a.reLaunch=wx.miniProgram.reLaunch,a.redirectTo=wx.miniProgram.redirectTo,a.postMessage=wx.miniProgram.postMessage,a.getEnv=wx.miniProgram.getEnv);var n={};-1<navigator.userAgent.indexOf("AlipayClient")&&"undefined"!=typeof my&&(n.navigateTo=my.navigateTo,n.navigateBack=my.navigateBack,n.switchTab=my.switchTab,n.reLaunch=my.reLaunch,n.redirectTo=my.redirectTo,n.postMessage=my.postMessage,n.getEnv=my.getEnv);var t={};"undefined"!=typeof swan&&swan.webView&&(t.navigateTo=swan.webView.navigateTo,t.navigateBack=swan.webView.navigateBack,t.switchTab=swan.webView.switchTab,t.reLaunch=swan.webView.reLaunch,t.redirectTo=swan.webView.redirectTo,t.postMessage=swan.webView.postMessage,t.getEnv=swan.webView.getEnv);var r={};"undefined"!=typeof tt&&tt.miniProgram&&(r.navigateTo=tt.miniProgram.navigateTo,r.redirectTo=tt.miniProgram.redirectTo,r.reLaunch=tt.miniProgram.reLaunch,r.switchTab=tt.miniProgram.switchTab,r.navigateBack=tt.miniProgram.navigateBack);var o={};"undefined"!=typeof qq&&qq.miniProgram&&(o.navigateTo=qq.miniProgram.navigateTo,o.navigateBack=qq.miniProgram.navigateBack,o.switchTab=qq.miniProgram.switchTab,o.reLaunch=qq.miniProgram.reLaunch,o.redirectTo=qq.miniProgram.redirectTo,o.postMessage=qq.miniProgram.postMessage,o.getEnv=qq.miniProgram.getEnv);function v(){window.UniAppJSBridge=!0,document.dispatchEvent(new CustomEvent("UniAppJSBridgeReady",{bubbles:!0,cancelable:!0}))}var w=navigator.userAgent,u=/uni-app/i.test(w),m=/micromessenger/i.test(w),p=/AlipayClient/.test(w),l=/swan/i.test(w),b=/toutiaomicroapp/i.test(w),h=/QQ/i.test(w)&&/miniProgram/i.test(w),T={};return u?(T=e,window.plus&&/complete|loaded|interactive/.test(document.readyState)?v():document.addEventListener("plusready",v)):m?(T=a,window.WeixinJSBridge&&WeixinJSBridge.invoke?v():document.addEventListener("WeixinJSBridgeReady",v)):h?(T=o,window.QQJSBridge&&QQJSBridge.invoke?v():document.addEventListener("QQJSBridgeReady",v)):(T=p?n:l?t:b?r:e,document.addEventListener("DOMContentLoaded",v)),T});
